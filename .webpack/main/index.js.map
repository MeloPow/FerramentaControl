{"version":3,"file":"index.js","mappings":";;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4CA+C4C,qEAA0C;;;sDAGhB,eAAuB,GAAG,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClD1F;AACb,uGAAsC;AACtC,2HAAsD;;;;;;;;;;;ACFzC;AACb,QAAQ,0BAA0B,EAAE,mBAAO,CAAC,0DAAS;;AAErD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yDAAyD,IAAI;AAC7D,+DAA+D,IAAI;AACnE;AACA;;AAEA,qBAAqB,QAAQ;AAC7B;AACA;AACA;;;;;;;;;;;AC1Ca;AACb,WAAW,mBAAO,CAAC,cAAI;AACvB,aAAa,mBAAO,CAAC,kBAAM;AAC3B,QAAQ,YAAY,EAAE,mBAAO,CAAC,kBAAM;AACpC,QAAQ,QAAQ,EAAE,mBAAO,CAAC,0DAAS;AACnC;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;;;;;;;;;;AClEa;AACb,QAAQ,0BAA0B,EAAE,mBAAO,CAAC,0DAAS;;AAErD;AACA;AACA;AACA,sCAAsC,cAAc;;AAEpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;AC9Ba;AACb;;AAEA;AACA;AACA;;;;;;;;;;;;ACLa;AACb,QAAQ,0BAA0B,EAAE,mBAAO,CAAC,0DAAS;;AAErD;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,OAAO;AACnD;AACA;;;;;;;;;;;ACXa;AACb,QAAQ,QAAQ,EAAE,mBAAO,CAAC,0DAAS;;AAEnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;ACfa;AACb,QAAQ,QAAQ,EAAE,mBAAO,CAAC,0DAAS;;AAEnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD,WAAW;AAC3D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,WAAW,IAAI,MAAM;AACpE;AACA;AACA,+CAA+C,WAAW,IAAI,MAAM;AACpE;;AAEA;AACA;AACA;AACA,+CAA+C,WAAW,IAAI,MAAM;AACpE;;AAEA;AACA;AACA;AACA,+CAA+C,WAAW,IAAI,MAAM;AACpE;AACA;AACA,+CAA+C,WAAW,IAAI,MAAM;AACpE;AACA;AACA,gDAAgD,WAAW,IAAI,MAAM;AACrE;;AAEA;AACA;AACA;AACA;AACA;AACA,gDAAgD,WAAW,IAAI,MAAM;AACrE;AACA,GAAG;AACH;AACA;AACA;AACA,+CAA+C,WAAW,IAAI,MAAM;AACpE;AACA;AACA,gDAAgD,WAAW,IAAI,MAAM;AACrE;AACA;AACA;AACA,gDAAgD,WAAW,IAAI,MAAM,kCAAkC,UAAU;AACjH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gDAAgD,WAAW,IAAI,MAAM;AACrE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gDAAgD,WAAW,IAAI,MAAM;AACrE;AACA;;AAEA;AACA;AACA,8CAA8C,KAAK;AACnD;AACA;AACA;AACA,oBAAoB,6BAA6B,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA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","sources":["webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/database.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/index.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/methods/aggregate.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/methods/backup.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/methods/function.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/methods/inspect.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/methods/pragma.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/methods/serialize.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/methods/table.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/methods/transaction.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/methods/wrappers.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/sqlite-error.js","webpack://ferramentacontrol/./node_modules/better-sqlite3/lib/util.js","webpack://ferramentacontrol/./src/db/colaborador.ts","webpack://ferramentacontrol/./src/db/database.ts","webpack://ferramentacontrol/./src/db/ferramenta.ts","webpack://ferramentacontrol/./src/db/movimentacao.ts","webpack://ferramentacontrol/./src/db/obra.ts","webpack://ferramentacontrol/./src/main/index.ts","webpack://ferramentacontrol/external node-commonjs \"electron\"","webpack://ferramentacontrol/external node-commonjs \"fs\"","webpack://ferramentacontrol/external node-commonjs \"path\"","webpack://ferramentacontrol/external node-commonjs \"util\"","webpack://ferramentacontrol/webpack/bootstrap","webpack://ferramentacontrol/webpack/runtime/compat","webpack://ferramentacontrol/webpack/before-startup","webpack://ferramentacontrol/webpack/startup","webpack://ferramentacontrol/webpack/after-startup"],"sourcesContent":[null,"'use strict';\nmodule.exports = require('./database');\nmodule.exports.SqliteError = require('./sqlite-error');\n","'use strict';\nconst { getBooleanOption, cppdb } = require('../util');\n\nmodule.exports = function defineAggregate(name, options) {\n\t// Validate arguments\n\tif (typeof name !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (typeof options !== 'object' || options === null) throw new TypeError('Expected second argument to be an options object');\n\tif (!name) throw new TypeError('User-defined function name cannot be an empty string');\n\n\t// Interpret options\n\tconst start = 'start' in options ? options.start : null;\n\tconst step = getFunctionOption(options, 'step', true);\n\tconst inverse = getFunctionOption(options, 'inverse', false);\n\tconst result = getFunctionOption(options, 'result', false);\n\tconst safeIntegers = 'safeIntegers' in options ? +getBooleanOption(options, 'safeIntegers') : 2;\n\tconst deterministic = getBooleanOption(options, 'deterministic');\n\tconst directOnly = getBooleanOption(options, 'directOnly');\n\tconst varargs = getBooleanOption(options, 'varargs');\n\tlet argCount = -1;\n\n\t// Determine argument count\n\tif (!varargs) {\n\t\targCount = Math.max(getLength(step), inverse ? getLength(inverse) : 0);\n\t\tif (argCount > 0) argCount -= 1;\n\t\tif (argCount > 100) throw new RangeError('User-defined functions cannot have more than 100 arguments');\n\t}\n\n\tthis[cppdb].aggregate(start, step, inverse, result, name, argCount, safeIntegers, deterministic, directOnly);\n\treturn this;\n};\n\nconst getFunctionOption = (options, key, required) => {\n\tconst value = key in options ? options[key] : null;\n\tif (typeof value === 'function') return value;\n\tif (value != null) throw new TypeError(`Expected the \"${key}\" option to be a function`);\n\tif (required) throw new TypeError(`Missing required option \"${key}\"`);\n\treturn null;\n};\n\nconst getLength = ({ length }) => {\n\tif (Number.isInteger(length) && length >= 0) return length;\n\tthrow new TypeError('Expected function.length to be a positive integer');\n};\n","'use strict';\nconst fs = require('fs');\nconst path = require('path');\nconst { promisify } = require('util');\nconst { cppdb } = require('../util');\nconst fsAccess = promisify(fs.access);\n\nmodule.exports = async function backup(filename, options) {\n\tif (options == null) options = {};\n\n\t// Validate arguments\n\tif (typeof filename !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (typeof options !== 'object') throw new TypeError('Expected second argument to be an options object');\n\n\t// Interpret options\n\tfilename = filename.trim();\n\tconst attachedName = 'attached' in options ? options.attached : 'main';\n\tconst handler = 'progress' in options ? options.progress : null;\n\n\t// Validate interpreted options\n\tif (!filename) throw new TypeError('Backup filename cannot be an empty string');\n\tif (filename === ':memory:') throw new TypeError('Invalid backup filename \":memory:\"');\n\tif (typeof attachedName !== 'string') throw new TypeError('Expected the \"attached\" option to be a string');\n\tif (!attachedName) throw new TypeError('The \"attached\" option cannot be an empty string');\n\tif (handler != null && typeof handler !== 'function') throw new TypeError('Expected the \"progress\" option to be a function');\n\n\t// Make sure the specified directory exists\n\tawait fsAccess(path.dirname(filename)).catch(() => {\n\t\tthrow new TypeError('Cannot save backup because the directory does not exist');\n\t});\n\n\tconst isNewFile = await fsAccess(filename).then(() => false, () => true);\n\treturn runBackup(this[cppdb].backup(this, attachedName, filename, isNewFile), handler || null);\n};\n\nconst runBackup = (backup, handler) => {\n\tlet rate = 0;\n\tlet useDefault = true;\n\n\treturn new Promise((resolve, reject) => {\n\t\tsetImmediate(function step() {\n\t\t\ttry {\n\t\t\t\tconst progress = backup.transfer(rate);\n\t\t\t\tif (!progress.remainingPages) {\n\t\t\t\t\tbackup.close();\n\t\t\t\t\tresolve(progress);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (useDefault) {\n\t\t\t\t\tuseDefault = false;\n\t\t\t\t\trate = 100;\n\t\t\t\t}\n\t\t\t\tif (handler) {\n\t\t\t\t\tconst ret = handler(progress);\n\t\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\t\tif (typeof ret === 'number' && ret === ret) rate = Math.max(0, Math.min(0x7fffffff, Math.round(ret)));\n\t\t\t\t\t\telse throw new TypeError('Expected progress callback to return a number or undefined');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetImmediate(step);\n\t\t\t} catch (err) {\n\t\t\t\tbackup.close();\n\t\t\t\treject(err);\n\t\t\t}\n\t\t});\n\t});\n};\n","'use strict';\nconst { getBooleanOption, cppdb } = require('../util');\n\nmodule.exports = function defineFunction(name, options, fn) {\n\t// Apply defaults\n\tif (options == null) options = {};\n\tif (typeof options === 'function') { fn = options; options = {}; }\n\n\t// Validate arguments\n\tif (typeof name !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (typeof fn !== 'function') throw new TypeError('Expected last argument to be a function');\n\tif (typeof options !== 'object') throw new TypeError('Expected second argument to be an options object');\n\tif (!name) throw new TypeError('User-defined function name cannot be an empty string');\n\n\t// Interpret options\n\tconst safeIntegers = 'safeIntegers' in options ? +getBooleanOption(options, 'safeIntegers') : 2;\n\tconst deterministic = getBooleanOption(options, 'deterministic');\n\tconst directOnly = getBooleanOption(options, 'directOnly');\n\tconst varargs = getBooleanOption(options, 'varargs');\n\tlet argCount = -1;\n\n\t// Determine argument count\n\tif (!varargs) {\n\t\targCount = fn.length;\n\t\tif (!Number.isInteger(argCount) || argCount < 0) throw new TypeError('Expected function.length to be a positive integer');\n\t\tif (argCount > 100) throw new RangeError('User-defined functions cannot have more than 100 arguments');\n\t}\n\n\tthis[cppdb].function(fn, name, argCount, safeIntegers, deterministic, directOnly);\n\treturn this;\n};\n","'use strict';\nconst DatabaseInspection = function Database() {};\n\nmodule.exports = function inspect(depth, opts) {\n\treturn Object.assign(new DatabaseInspection(), this);\n};\n\n","'use strict';\nconst { getBooleanOption, cppdb } = require('../util');\n\nmodule.exports = function pragma(source, options) {\n\tif (options == null) options = {};\n\tif (typeof source !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (typeof options !== 'object') throw new TypeError('Expected second argument to be an options object');\n\tconst simple = getBooleanOption(options, 'simple');\n\n\tconst stmt = this[cppdb].prepare(`PRAGMA ${source}`, this, true);\n\treturn simple ? stmt.pluck().get() : stmt.all();\n};\n","'use strict';\nconst { cppdb } = require('../util');\n\nmodule.exports = function serialize(options) {\n\tif (options == null) options = {};\n\n\t// Validate arguments\n\tif (typeof options !== 'object') throw new TypeError('Expected first argument to be an options object');\n\n\t// Interpret and validate options\n\tconst attachedName = 'attached' in options ? options.attached : 'main';\n\tif (typeof attachedName !== 'string') throw new TypeError('Expected the \"attached\" option to be a string');\n\tif (!attachedName) throw new TypeError('The \"attached\" option cannot be an empty string');\n\n\treturn this[cppdb].serialize(attachedName);\n};\n","'use strict';\nconst { cppdb } = require('../util');\n\nmodule.exports = function defineTable(name, factory) {\n\t// Validate arguments\n\tif (typeof name !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (!name) throw new TypeError('Virtual table module name cannot be an empty string');\n\n\t// Determine whether the module is eponymous-only or not\n\tlet eponymous = false;\n\tif (typeof factory === 'object' && factory !== null) {\n\t\teponymous = true;\n\t\tfactory = defer(parseTableDefinition(factory, 'used', name));\n\t} else {\n\t\tif (typeof factory !== 'function') throw new TypeError('Expected second argument to be a function or a table definition object');\n\t\tfactory = wrapFactory(factory);\n\t}\n\n\tthis[cppdb].table(factory, name, eponymous);\n\treturn this;\n};\n\nfunction wrapFactory(factory) {\n\treturn function virtualTableFactory(moduleName, databaseName, tableName, ...args) {\n\t\tconst thisObject = {\n\t\t\tmodule: moduleName,\n\t\t\tdatabase: databaseName,\n\t\t\ttable: tableName,\n\t\t};\n\n\t\t// Generate a new table definition by invoking the factory\n\t\tconst def = apply.call(factory, thisObject, args);\n\t\tif (typeof def !== 'object' || def === null) {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" did not return a table definition object`);\n\t\t}\n\n\t\treturn parseTableDefinition(def, 'returned', moduleName);\n\t};\n}\n\nfunction parseTableDefinition(def, verb, moduleName) {\n\t// Validate required properties\n\tif (!hasOwnProperty.call(def, 'rows')) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition without a \"rows\" property`);\n\t}\n\tif (!hasOwnProperty.call(def, 'columns')) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition without a \"columns\" property`);\n\t}\n\n\t// Validate \"rows\" property\n\tconst rows = def.rows;\n\tif (typeof rows !== 'function' || Object.getPrototypeOf(rows) !== GeneratorFunctionPrototype) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"rows\" property (should be a generator function)`);\n\t}\n\n\t// Validate \"columns\" property\n\tlet columns = def.columns;\n\tif (!Array.isArray(columns) || !(columns = [...columns]).every(x => typeof x === 'string')) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"columns\" property (should be an array of strings)`);\n\t}\n\tif (columns.length !== new Set(columns).size) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with duplicate column names`);\n\t}\n\tif (!columns.length) {\n\t\tthrow new RangeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with zero columns`);\n\t}\n\n\t// Validate \"parameters\" property\n\tlet parameters;\n\tif (hasOwnProperty.call(def, 'parameters')) {\n\t\tparameters = def.parameters;\n\t\tif (!Array.isArray(parameters) || !(parameters = [...parameters]).every(x => typeof x === 'string')) {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"parameters\" property (should be an array of strings)`);\n\t\t}\n\t} else {\n\t\tparameters = inferParameters(rows);\n\t}\n\tif (parameters.length !== new Set(parameters).size) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with duplicate parameter names`);\n\t}\n\tif (parameters.length > 32) {\n\t\tthrow new RangeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with more than the maximum number of 32 parameters`);\n\t}\n\tfor (const parameter of parameters) {\n\t\tif (columns.includes(parameter)) {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with column \"${parameter}\" which was ambiguously defined as both a column and parameter`);\n\t\t}\n\t}\n\n\t// Validate \"safeIntegers\" option\n\tlet safeIntegers = 2;\n\tif (hasOwnProperty.call(def, 'safeIntegers')) {\n\t\tconst bool = def.safeIntegers;\n\t\tif (typeof bool !== 'boolean') {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"safeIntegers\" property (should be a boolean)`);\n\t\t}\n\t\tsafeIntegers = +bool;\n\t}\n\n\t// Validate \"directOnly\" option\n\tlet directOnly = false;\n\tif (hasOwnProperty.call(def, 'directOnly')) {\n\t\tdirectOnly = def.directOnly;\n\t\tif (typeof directOnly !== 'boolean') {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" ${verb} a table definition with an invalid \"directOnly\" property (should be a boolean)`);\n\t\t}\n\t}\n\n\t// Generate SQL for the virtual table definition\n\tconst columnDefinitions = [\n\t\t...parameters.map(identifier).map(str => `${str} HIDDEN`),\n\t\t...columns.map(identifier),\n\t];\n\treturn [\n\t\t`CREATE TABLE x(${columnDefinitions.join(', ')});`,\n\t\twrapGenerator(rows, new Map(columns.map((x, i) => [x, parameters.length + i])), moduleName),\n\t\tparameters,\n\t\tsafeIntegers,\n\t\tdirectOnly,\n\t];\n}\n\nfunction wrapGenerator(generator, columnMap, moduleName) {\n\treturn function* virtualTable(...args) {\n\t\t/*\n\t\t\tWe must defensively clone any buffers in the arguments, because\n\t\t\totherwise the generator could mutate one of them, which would cause\n\t\t\tus to return incorrect values for hidden columns, potentially\n\t\t\tcorrupting the database.\n\t\t */\n\t\tconst output = args.map(x => Buffer.isBuffer(x) ? Buffer.from(x) : x);\n\t\tfor (let i = 0; i < columnMap.size; ++i) {\n\t\t\toutput.push(null); // Fill with nulls to prevent gaps in array (v8 optimization)\n\t\t}\n\t\tfor (const row of generator(...args)) {\n\t\t\tif (Array.isArray(row)) {\n\t\t\t\textractRowArray(row, output, columnMap.size, moduleName);\n\t\t\t\tyield output;\n\t\t\t} else if (typeof row === 'object' && row !== null) {\n\t\t\t\textractRowObject(row, output, columnMap, moduleName);\n\t\t\t\tyield output;\n\t\t\t} else {\n\t\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" yielded something that isn't a valid row object`);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction extractRowArray(row, output, columnCount, moduleName) {\n\tif (row.length !== columnCount) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" yielded a row with an incorrect number of columns`);\n\t}\n\tconst offset = output.length - columnCount;\n\tfor (let i = 0; i < columnCount; ++i) {\n\t\toutput[i + offset] = row[i];\n\t}\n}\n\nfunction extractRowObject(row, output, columnMap, moduleName) {\n\tlet count = 0;\n\tfor (const key of Object.keys(row)) {\n\t\tconst index = columnMap.get(key);\n\t\tif (index === undefined) {\n\t\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" yielded a row with an undeclared column \"${key}\"`);\n\t\t}\n\t\toutput[index] = row[key];\n\t\tcount += 1;\n\t}\n\tif (count !== columnMap.size) {\n\t\tthrow new TypeError(`Virtual table module \"${moduleName}\" yielded a row with missing columns`);\n\t}\n}\n\nfunction inferParameters({ length }) {\n\tif (!Number.isInteger(length) || length < 0) {\n\t\tthrow new TypeError('Expected function.length to be a positive integer');\n\t}\n\tconst params = [];\n\tfor (let i = 0; i < length; ++i) {\n\t\tparams.push(`$${i + 1}`);\n\t}\n\treturn params;\n}\n\nconst { hasOwnProperty } = Object.prototype;\nconst { apply } = Function.prototype;\nconst GeneratorFunctionPrototype = Object.getPrototypeOf(function*(){});\nconst identifier = str => `\"${str.replace(/\"/g, '\"\"')}\"`;\nconst defer = x => () => x;\n","'use strict';\nconst { cppdb } = require('../util');\nconst controllers = new WeakMap();\n\nmodule.exports = function transaction(fn) {\n\tif (typeof fn !== 'function') throw new TypeError('Expected first argument to be a function');\n\n\tconst db = this[cppdb];\n\tconst controller = getController(db, this);\n\tconst { apply } = Function.prototype;\n\n\t// Each version of the transaction function has these same properties\n\tconst properties = {\n\t\tdefault: { value: wrapTransaction(apply, fn, db, controller.default) },\n\t\tdeferred: { value: wrapTransaction(apply, fn, db, controller.deferred) },\n\t\timmediate: { value: wrapTransaction(apply, fn, db, controller.immediate) },\n\t\texclusive: { value: wrapTransaction(apply, fn, db, controller.exclusive) },\n\t\tdatabase: { value: this, enumerable: true },\n\t};\n\n\tObject.defineProperties(properties.default.value, properties);\n\tObject.defineProperties(properties.deferred.value, properties);\n\tObject.defineProperties(properties.immediate.value, properties);\n\tObject.defineProperties(properties.exclusive.value, properties);\n\n\t// Return the default version of the transaction function\n\treturn properties.default.value;\n};\n\n// Return the database's cached transaction controller, or create a new one\nconst getController = (db, self) => {\n\tlet controller = controllers.get(db);\n\tif (!controller) {\n\t\tconst shared = {\n\t\t\tcommit: db.prepare('COMMIT', self, false),\n\t\t\trollback: db.prepare('ROLLBACK', self, false),\n\t\t\tsavepoint: db.prepare('SAVEPOINT `\\t_bs3.\\t`', self, false),\n\t\t\trelease: db.prepare('RELEASE `\\t_bs3.\\t`', self, false),\n\t\t\trollbackTo: db.prepare('ROLLBACK TO `\\t_bs3.\\t`', self, false),\n\t\t};\n\t\tcontrollers.set(db, controller = {\n\t\t\tdefault: Object.assign({ begin: db.prepare('BEGIN', self, false) }, shared),\n\t\t\tdeferred: Object.assign({ begin: db.prepare('BEGIN DEFERRED', self, false) }, shared),\n\t\t\timmediate: Object.assign({ begin: db.prepare('BEGIN IMMEDIATE', self, false) }, shared),\n\t\t\texclusive: Object.assign({ begin: db.prepare('BEGIN EXCLUSIVE', self, false) }, shared),\n\t\t});\n\t}\n\treturn controller;\n};\n\n// Return a new transaction function by wrapping the given function\nconst wrapTransaction = (apply, fn, db, { begin, commit, rollback, savepoint, release, rollbackTo }) => function sqliteTransaction() {\n\tlet before, after, undo;\n\tif (db.inTransaction) {\n\t\tbefore = savepoint;\n\t\tafter = release;\n\t\tundo = rollbackTo;\n\t} else {\n\t\tbefore = begin;\n\t\tafter = commit;\n\t\tundo = rollback;\n\t}\n\tbefore.run();\n\ttry {\n\t\tconst result = apply.call(fn, this, arguments);\n\t\tif (result && typeof result.then === 'function') {\n\t\t\tthrow new TypeError('Transaction function cannot return a promise');\n\t\t}\n\t\tafter.run();\n\t\treturn result;\n\t} catch (ex) {\n\t\tif (db.inTransaction) {\n\t\t\tundo.run();\n\t\t\tif (undo !== rollback) after.run();\n\t\t}\n\t\tthrow ex;\n\t}\n};\n","'use strict';\nconst { cppdb } = require('../util');\n\nexports.prepare = function prepare(sql) {\n\treturn this[cppdb].prepare(sql, this, false);\n};\n\nexports.exec = function exec(sql) {\n\tthis[cppdb].exec(sql);\n\treturn this;\n};\n\nexports.close = function close() {\n\tthis[cppdb].close();\n\treturn this;\n};\n\nexports.loadExtension = function loadExtension(...args) {\n\tthis[cppdb].loadExtension(...args);\n\treturn this;\n};\n\nexports.defaultSafeIntegers = function defaultSafeIntegers(...args) {\n\tthis[cppdb].defaultSafeIntegers(...args);\n\treturn this;\n};\n\nexports.unsafeMode = function unsafeMode(...args) {\n\tthis[cppdb].unsafeMode(...args);\n\treturn this;\n};\n\nexports.getters = {\n\tname: {\n\t\tget: function name() { return this[cppdb].name; },\n\t\tenumerable: true,\n\t},\n\topen: {\n\t\tget: function open() { return this[cppdb].open; },\n\t\tenumerable: true,\n\t},\n\tinTransaction: {\n\t\tget: function inTransaction() { return this[cppdb].inTransaction; },\n\t\tenumerable: true,\n\t},\n\treadonly: {\n\t\tget: function readonly() { return this[cppdb].readonly; },\n\t\tenumerable: true,\n\t},\n\tmemory: {\n\t\tget: function memory() { return this[cppdb].memory; },\n\t\tenumerable: true,\n\t},\n};\n","'use strict';\nconst descriptor = { value: 'SqliteError', writable: true, enumerable: false, configurable: true };\n\nfunction SqliteError(message, code) {\n\tif (new.target !== SqliteError) {\n\t\treturn new SqliteError(message, code);\n\t}\n\tif (typeof code !== 'string') {\n\t\tthrow new TypeError('Expected second argument to be a string');\n\t}\n\tError.call(this, message);\n\tdescriptor.value = '' + message;\n\tObject.defineProperty(this, 'message', descriptor);\n\tError.captureStackTrace(this, SqliteError);\n\tthis.code = code;\n}\nObject.setPrototypeOf(SqliteError, Error);\nObject.setPrototypeOf(SqliteError.prototype, Error.prototype);\nObject.defineProperty(SqliteError.prototype, 'name', descriptor);\nmodule.exports = SqliteError;\n","'use strict';\n\nexports.getBooleanOption = (options, key) => {\n\tlet value = false;\n\tif (key in options && typeof (value = options[key]) !== 'boolean') {\n\t\tthrow new TypeError(`Expected the \"${key}\" option to be a boolean`);\n\t}\n\treturn value;\n};\n\nexports.cppdb = Symbol();\nexports.inspect = Symbol.for('nodejs.util.inspect.custom');\n","// src/db/colaborador.ts\r\nimport { getDb } from './database';\r\n\r\nexport interface Colaborador {\r\n  id?: number;\r\n  nome: string;\r\n  matricula?: string | null;\r\n  funcao?: string | null;\r\n  telefone?: string | null;\r\n  ativo?: 0 | 1;\r\n}\r\n\r\nexport function criarColaborador(c: Colaborador): number {\r\n  const db = getDb();\r\n  const r = db\r\n    .prepare(\r\n      `\r\n     INSERT INTO colaboradores (nome, matricula, funcao, telefone, ativo)\r\n     VALUES (?, ?, ?, ?, ?)\r\n   `\r\n    )\r\n    .run(\r\n      c.nome,\r\n      c.matricula ?? null,\r\n      c.funcao ?? null,\r\n      c.telefone ?? null,\r\n      c.ativo ?? 1\r\n    );\r\n  return Number(r.lastInsertRowid);\r\n}\r\n\r\nexport function listarColaboradores(): Colaborador[] {\r\n  const db = getDb();\r\n  return db\r\n    .prepare(`SELECT * FROM colaboradores ORDER BY nome ASC`)\r\n    .all() as Colaborador[];\r\n}\r\n\r\nexport function atualizarColaborador(c: Colaborador): void {\r\n  if (!c.id) throw new Error('Colaborador sem id');\r\n  const db = getDb();\r\n  db.prepare(\r\n    `\r\n     UPDATE colaboradores\r\n     SET nome = ?, matricula = ?, funcao = ?, telefone = ?, ativo = ?, updated_at = datetime('now')\r\n     WHERE id = ?\r\n   `\r\n  ).run(\r\n    c.nome,\r\n    c.matricula ?? null,\r\n    c.funcao ?? null,\r\n    c.telefone ?? null,\r\n    c.ativo ?? 1,\r\n    c.id\r\n  );\r\n}\r\n\r\nexport function deletarColaborador(id: number): void {\r\n  const db = getDb();\r\n  db.prepare(`DELETE FROM colaboradores WHERE id = ?`).run(id);\r\n}\r\n","// src/db/database.ts\r\nimport Database from 'better-sqlite3';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nlet dbInstance: Database.Database | null = null;\r\n\r\nexport function initializeDatabase(dbPath: string) {\r\n  // garante a pasta do arquivo\r\n  const dir = path.dirname(dbPath);\r\n  if (!fs.existsSync(dir)) fs.mkdirSync(dir, { recursive: true });\r\n\r\n  const db = new Database(dbPath);\r\n  db.pragma('journal_mode = WAL');\r\n  db.pragma('foreign_keys = ON');\r\n\r\n  // =========================\r\n  // TABELA: colaboradores\r\n  // =========================\r\n  db.prepare(\r\n    `\r\n    CREATE TABLE IF NOT EXISTS colaboradores (\r\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n      nome TEXT NOT NULL,\r\n      matricula TEXT,\r\n      funcao TEXT,\r\n      telefone TEXT,\r\n      ativo INTEGER NOT NULL DEFAULT 1,\r\n      created_at TEXT NOT NULL DEFAULT (datetime('now')),\r\n      updated_at TEXT\r\n    );\r\n  `\r\n  ).run();\r\n\r\n  db.prepare(\r\n    `CREATE INDEX IF NOT EXISTS idx_colaboradores_nome ON colaboradores(nome);`\r\n  ).run();\r\n  db.prepare(\r\n    `CREATE UNIQUE INDEX IF NOT EXISTS idx_colaboradores_matricula ON colaboradores(matricula) WHERE matricula IS NOT NULL;`\r\n  ).run();\r\n\r\n  // =========================\r\n  // TABELA: obras\r\n  // =========================\r\n  db.prepare(\r\n    `\r\n    CREATE TABLE IF NOT EXISTS obras (\r\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n      nome TEXT NOT NULL,\r\n      codigo TEXT,\r\n      endereco TEXT,\r\n      status TEXT NOT NULL DEFAULT 'ativa', -- ativa | pausada | finalizada\r\n      observacoes TEXT,\r\n      created_at TEXT NOT NULL DEFAULT (datetime('now')),\r\n      updated_at TEXT\r\n    );\r\n  `\r\n  ).run();\r\n\r\n  db.prepare(`CREATE INDEX IF NOT EXISTS idx_obras_nome ON obras(nome);`).run();\r\n  db.prepare(\r\n    `CREATE UNIQUE INDEX IF NOT EXISTS idx_obras_codigo ON obras(codigo) WHERE codigo IS NOT NULL;`\r\n  ).run();\r\n\r\n  // =========================\r\n  // TABELA: ferramentas\r\n  // =========================\r\n  db.prepare(\r\n    `\r\n    CREATE TABLE IF NOT EXISTS ferramentas (\r\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n      nome TEXT NOT NULL,\r\n      codigo_patrimonio TEXT,     -- etiqueta / patrimônio\r\n      categoria TEXT,\r\n      marca TEXT,\r\n      modelo TEXT,\r\n      numero_serie TEXT,\r\n      status TEXT NOT NULL DEFAULT 'disponivel',\r\n      -- disponivel | em_uso | manutencao | perdida | baixada\r\n\r\n      local_tipo TEXT NOT NULL DEFAULT 'deposito',\r\n      -- deposito | obra\r\n      local_obra_id INTEGER, -- se local_tipo = 'obra'\r\n\r\n      observacoes TEXT,\r\n      created_at TEXT NOT NULL DEFAULT (datetime('now')),\r\n      updated_at TEXT,\r\n\r\n      FOREIGN KEY (local_obra_id) REFERENCES obras(id) ON UPDATE CASCADE ON DELETE SET NULL\r\n    );\r\n  `\r\n  ).run();\r\n\r\n  db.prepare(\r\n    `CREATE INDEX IF NOT EXISTS idx_ferramentas_nome ON ferramentas(nome);`\r\n  ).run();\r\n  db.prepare(\r\n    `CREATE INDEX IF NOT EXISTS idx_ferramentas_status ON ferramentas(status);`\r\n  ).run();\r\n  db.prepare(\r\n    `CREATE INDEX IF NOT EXISTS idx_ferramentas_local ON ferramentas(local_tipo, local_obra_id);`\r\n  ).run();\r\n  db.prepare(\r\n    `CREATE UNIQUE INDEX IF NOT EXISTS idx_ferramentas_patrimonio ON ferramentas(codigo_patrimonio) WHERE codigo_patrimonio IS NOT NULL;`\r\n  ).run();\r\n\r\n  // =========================\r\n  // TABELA: movimentacoes\r\n  // =========================\r\n  db.prepare(\r\n    `\r\n    CREATE TABLE IF NOT EXISTS movimentacoes (\r\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n      ferramenta_id INTEGER NOT NULL,\r\n\r\n      de_tipo TEXT NOT NULL,          -- deposito | obra\r\n      de_obra_id INTEGER,             -- se de_tipo = obra\r\n\r\n      para_tipo TEXT NOT NULL,        -- deposito | obra\r\n      para_obra_id INTEGER,           -- se para_tipo = obra\r\n\r\n      colaborador_id INTEGER,          -- quem executou/recebeu\r\n      data_hora TEXT NOT NULL DEFAULT (datetime('now')),\r\n      observacao TEXT,\r\n \r\n      created_at TEXT NOT NULL DEFAULT (datetime('now')),\r\n \r\n      FOREIGN KEY (ferramenta_id) REFERENCES ferramentas(id) ON UPDATE CASCADE ON DELETE CASCADE,\r\n      FOREIGN KEY (de_obra_id) REFERENCES obras(id) ON UPDATE CASCADE ON DELETE SET NULL,\r\n      FOREIGN KEY (para_obra_id) REFERENCES obras(id) ON UPDATE CASCADE ON DELETE SET NULL,\r\n      FOREIGN KEY (colaborador_id) REFERENCES colaboradores(id) ON UPDATE CASCADE ON DELETE SET NULL\r\n    );\r\n   `\r\n  ).run();\r\n\r\n  db.prepare(\r\n    `CREATE INDEX IF NOT EXISTS idx_mov_ferramenta ON movimentacoes(ferramenta_id, data_hora DESC);`\r\n  ).run();\r\n  db.prepare(\r\n    `CREATE INDEX IF NOT EXISTS idx_mov_para ON movimentacoes(para_tipo, para_obra_id, data_hora DESC);`\r\n  ).run();\r\n\r\n  dbInstance = db;\r\n  return db;\r\n}\r\n\r\nexport function getDb(): Database.Database {\r\n  if (!dbInstance) throw new Error('Banco de dados não inicializado!');\r\n  return dbInstance;\r\n}\r\n","// src/db/ferramenta.ts\r\nimport { getDb } from './database';\r\n\r\nexport type FerramentaStatus =\r\n  | 'disponivel'\r\n  | 'em_uso'\r\n  | 'manutencao'\r\n  | 'perdida'\r\n  | 'baixada';\r\nexport type LocalTipo = 'deposito' | 'obra';\r\n\r\nexport interface Ferramenta {\r\n  id?: number;\r\n  nome: string;\r\n  codigo_patrimonio?: string | null;\r\n  categoria?: string | null;\r\n  marca?: string | null;\r\n  modelo?: string | null;\r\n  numero_serie?: string | null;\r\n  status?: FerramentaStatus;\r\n  local_tipo?: LocalTipo;\r\n  local_obra_id?: number | null;\r\n  observacoes?: string | null;\r\n}\r\n\r\nexport function criarFerramenta(f: Ferramenta): number {\r\n  const db = getDb();\r\n  const r = db\r\n    .prepare(\r\n      `\r\n     INSERT INTO ferramentas (\r\n       nome, codigo_patrimonio, categoria, marca, modelo, numero_serie,\r\n       status, local_tipo, local_obra_id, observacoes\r\n     ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n   `\r\n    )\r\n    .run(\r\n      f.nome,\r\n      f.codigo_patrimonio ?? null,\r\n      f.categoria ?? null,\r\n      f.marca ?? null,\r\n      f.modelo ?? null,\r\n      f.numero_serie ?? null,\r\n      f.status ?? 'disponivel',\r\n      f.local_tipo ?? 'deposito',\r\n      f.local_obra_id ?? null,\r\n      f.observacoes ?? null\r\n    );\r\n  return Number(r.lastInsertRowid);\r\n}\r\n\r\nexport function listarFerramentas(): Ferramenta[] {\r\n  const db = getDb();\r\n  return db\r\n    .prepare(`SELECT * FROM ferramentas ORDER BY nome ASC`)\r\n    .all() as Ferramenta[];\r\n}\r\n\r\nexport function buscarFerramentaPorId(id: number): Ferramenta | undefined {\r\n  const db = getDb();\r\n  return db.prepare(`SELECT * FROM ferramentas WHERE id = ?`).get(id) as\r\n    | Ferramenta\r\n    | undefined;\r\n}\r\n\r\nexport function atualizarFerramenta(f: Ferramenta): void {\r\n  if (!f.id) throw new Error('Ferramenta sem id');\r\n  const db = getDb();\r\n  db.prepare(\r\n    `\r\n     UPDATE ferramentas SET\r\n       nome = ?, codigo_patrimonio = ?, categoria = ?, marca = ?, modelo = ?, numero_serie = ?,\r\n       status = ?, local_tipo = ?, local_obra_id = ?, observacoes = ?, updated_at = datetime('now')\r\n     WHERE id = ?\r\n   `\r\n  ).run(\r\n    f.nome,\r\n    f.codigo_patrimonio ?? null,\r\n    f.categoria ?? null,\r\n    f.marca ?? null,\r\n    f.modelo ?? null,\r\n    f.numero_serie ?? null,\r\n    f.status ?? 'disponivel',\r\n    f.local_tipo ?? 'deposito',\r\n    f.local_obra_id ?? null,\r\n    f.observacoes ?? null,\r\n    f.id\r\n  );\r\n}\r\n\r\nexport function deletarFerramenta(id: number): void {\r\n  const db = getDb();\r\n  db.prepare(`DELETE FROM ferramentas WHERE id = ?`).run(id);\r\n}\r\n","// src/db/movimentacao.ts\r\nimport { getDb } from './database';\r\nimport type { LocalTipo } from './ferramenta';\r\n\r\nexport interface Movimentacao {\r\n  id?: number;\r\n  ferramenta_id: number;\r\n  de_tipo: LocalTipo;\r\n  de_obra_id?: number | null;\r\n  para_tipo: LocalTipo;\r\n  para_obra_id?: number | null;\r\n  colaborador_id?: number | null;\r\n  data_hora?: string; // opcional; DB seta default\r\n  observacao?: string | null;\r\n}\r\n\r\n// Registra movimentação + atualiza \"local/status\" da ferramenta numa transação\r\nexport function registrarMovimentacao(m: Movimentacao): number {\r\n  const db = getDb();\r\n  const tx = db.transaction(() => {\r\n    const r = db\r\n      .prepare(\r\n        `\r\n       INSERT INTO movimentacoes (\r\n         ferramenta_id, de_tipo, de_obra_id, para_tipo, para_obra_id, colaborador_id, data_hora, observacao\r\n       ) VALUES (?, ?, ?, ?, ?, ?, COALESCE(?, datetime('now')), ?)\r\n     `\r\n      )\r\n      .run(\r\n        m.ferramenta_id,\r\n        m.de_tipo,\r\n        m.de_obra_id ?? null,\r\n        m.para_tipo,\r\n        m.para_obra_id ?? null,\r\n        m.colaborador_id ?? null,\r\n        m.data_hora ?? null,\r\n        m.observacao ?? null\r\n      );\r\n\r\n    // Atualiza a ferramenta para refletir o destino\r\n    db.prepare(\r\n      `\r\n       UPDATE ferramentas\r\n       SET local_tipo = ?, local_obra_id = ?, status = ?, updated_at = datetime('now')\r\n       WHERE id = ?\r\n     `\r\n    ).run(\r\n      m.para_tipo,\r\n      m.para_tipo === 'obra' ? m.para_obra_id ?? null : null,\r\n      // regra simples: se foi pra obra, fica \"em_uso\"; se voltou pro depósito, \"disponivel\"\r\n      m.para_tipo === 'obra' ? 'em_uso' : 'disponivel',\r\n      m.ferramenta_id\r\n    );\r\n\r\n    return Number(r.lastInsertRowid);\r\n  });\r\n\r\n  return tx();\r\n}\r\n\r\nexport function listarMovimentacoesPorFerramenta(\r\n  ferramentaId: number\r\n): Movimentacao[] {\r\n  const db = getDb();\r\n  return db\r\n    .prepare(\r\n      `\r\n     SELECT * FROM movimentacoes\r\n     WHERE ferramenta_id = ?\r\n     ORDER BY datetime(data_hora) DESC, id DESC\r\n   `\r\n    )\r\n    .all(ferramentaId) as Movimentacao[];\r\n}\r\n","import { getDb } from './database';\r\n\r\nexport type ObraStatus = 'ativa' | 'pausada' | 'finalizada';\r\n\r\nexport interface Obra {\r\n  id?: number;\r\n  nome: string;\r\n  codigo?: string | null;\r\n  endereco?: string | null;\r\n  status?: ObraStatus;\r\n  observacoes?: string | null;\r\n}\r\n\r\nexport function criarObra(obra: Obra): number {\r\n  const db = getDb();\r\n  const stmt = db.prepare(`\r\n    INSERT INTO obras (nome, codigo, endereco, status, observacoes)\r\n    VALUES (?, ?, ?, ?, ?)\r\n  `);\r\n\r\n  const r = stmt.run(\r\n    obra.nome,\r\n    obra.codigo ?? null,\r\n    obra.endereco ?? null,\r\n    obra.status ?? 'ativa',\r\n    obra.observacoes ?? null\r\n  );\r\n\r\n  return Number(r.lastInsertRowid);\r\n}\r\n\r\nexport function listarObras(): Obra[] {\r\n  const db = getDb();\r\n  return db.prepare(`SELECT * FROM obras ORDER BY nome ASC`).all() as Obra[];\r\n}\r\n\r\nexport function buscarObraPorId(id: number): Obra | undefined {\r\n  const db = getDb();\r\n  return db.prepare(`SELECT * FROM obras WHERE id = ?`).get(id) as\r\n    | Obra\r\n    | undefined;\r\n}\r\n\r\nexport function atualizarObra(obra: Obra): void {\r\n  if (!obra.id) throw new Error('Obra sem id');\r\n\r\n  const db = getDb();\r\n  db.prepare(\r\n    `\r\n    UPDATE obras\r\n    SET nome = ?, codigo = ?, endereco = ?, status = ?, observacoes = ?, updated_at = datetime('now')\r\n    WHERE id = ?\r\n  `\r\n  ).run(\r\n    obra.nome,\r\n    obra.codigo ?? null,\r\n    obra.endereco ?? null,\r\n    obra.status ?? 'ativa',\r\n    obra.observacoes ?? null,\r\n    obra.id\r\n  );\r\n}\r\n\r\nexport function deletarObra(id: number): void {\r\n  const db = getDb();\r\n  db.prepare(`DELETE FROM obras WHERE id = ?`).run(id);\r\n}\r\n","import { app, BrowserWindow, ipcMain } from 'electron';\nimport path from 'path';\n\nimport { initializeDatabase } from '../db/database';\n\nimport {\n  criarObra,\n  listarObras,\n  buscarObraPorId,\n  atualizarObra,\n  deletarObra,\n} from '../db/obra';\n\nimport {\n  criarColaborador,\n  listarColaboradores,\n  atualizarColaborador,\n  deletarColaborador,\n} from '../db/colaborador';\n\nimport {\n  criarFerramenta,\n  listarFerramentas,\n  buscarFerramentaPorId,\n  atualizarFerramenta,\n  deletarFerramenta,\n} from '../db/ferramenta';\n\nimport {\n  registrarMovimentacao,\n  listarMovimentacoesPorFerramenta,\n} from '../db/movimentacao';\n\n// Declarações do Webpack (Electron Forge + Webpack Plugin)\ndeclare const MAIN_WINDOW_WEBPACK_ENTRY: string;\ndeclare const MAIN_WINDOW_PRELOAD_WEBPACK_ENTRY: string;\n\nlet dbPath: string;\n\nconst createWindow = (): void => {\n  const mainWindow = new BrowserWindow({\n    width: 1280,\n    height: 800,\n    show: false,\n    title: 'FerramentaControl',\n    webPreferences: {\n      preload: MAIN_WINDOW_PRELOAD_WEBPACK_ENTRY,\n      contextIsolation: true,\n      nodeIntegration: false,\n    },\n    // Dica: deixe sem icon por enquanto pra não quebrar path em dev/build.\n    // Quando você organizar assets, a gente aponta isso com segurança.\n    // icon: path.join(__dirname, 'assets', 'images', 'logo.png'),\n  });\n\n  mainWindow.loadURL(MAIN_WINDOW_WEBPACK_ENTRY);\n  mainWindow.once('ready-to-show', () => mainWindow.show());\n\n  if (!app.isPackaged) {\n    mainWindow.webContents.openDevTools();\n  }\n};\n\napp.whenReady().then(() => {\n  dbPath = path.join(app.getPath('userData'), 'ferramentacontrol.db');\n  initializeDatabase(dbPath);\n  createWindow();\n});\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') app.quit();\n});\n\napp.on('activate', () => {\n  if (BrowserWindow.getAllWindows().length === 0) createWindow();\n});\n\n// ==============================\n// IPC HANDLERS - Obras\n// ==============================\nipcMain.handle('criarObra', async (_event, obra) => criarObra(obra));\nipcMain.handle('listarObras', async () => listarObras());\nipcMain.handle('buscarObraPorId', async (_event, id: number) =>\n  buscarObraPorId(id)\n);\nipcMain.handle('atualizarObra', async (_event, obra) => atualizarObra(obra));\nipcMain.handle('deletarObra', async (_event, id: number) => deletarObra(id));\n\n// ==============================\n// IPC HANDLERS - Colaboradores\n// ==============================\nipcMain.handle('criarColaborador', async (_event, colaborador) =>\n  criarColaborador(colaborador)\n);\nipcMain.handle('listarColaboradores', async () => listarColaboradores());\nipcMain.handle('atualizarColaborador', async (_event, colaborador) =>\n  atualizarColaborador(colaborador)\n);\nipcMain.handle('deletarColaborador', async (_event, id: number) =>\n  deletarColaborador(id)\n);\n\n// ==============================\n// IPC HANDLERS - Ferramentas\n// ==============================\nipcMain.handle('criarFerramenta', async (_event, ferramenta) =>\n  criarFerramenta(ferramenta)\n);\nipcMain.handle('listarFerramentas', async () => listarFerramentas());\nipcMain.handle('buscarFerramentaPorId', async (_event, id: number) =>\n  buscarFerramentaPorId(id)\n);\nipcMain.handle('atualizarFerramenta', async (_event, ferramenta) =>\n  atualizarFerramenta(ferramenta)\n);\nipcMain.handle('deletarFerramenta', async (_event, id: number) =>\n  deletarFerramenta(id)\n);\n\n// ==============================\n// IPC HANDLERS - Movimentações\n// ==============================\nipcMain.handle('registrarMovimentacao', async (_event, mov) =>\n  registrarMovimentacao(mov)\n);\nipcMain.handle(\n  'listarMovimentacoesPorFerramenta',\n  async (_event, ferramentaId: number) =>\n    listarMovimentacoesPorFerramenta(ferramentaId)\n);\n","module.exports = require(\"electron\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\nif (typeof __webpack_require__ !== 'undefined') __webpack_require__.ab = __dirname + \"/native_modules/\";","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/main/index.ts\");\n",""],"names":[],"sourceRoot":""}